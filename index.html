<pre><code class="language-html"><!DOCTYPE html>
<html>
<head>
<title>QRIS Cropper</title>
<style>
body {
font-family: sans-serif;
display: flex;
flex-direction: column;
align-items: center;
padding: 20px;
}
.container {
display: flex;
gap: 20px;
margin-bottom: 20px;
}
.image-container {
border: 1px solid #ccc;
padding: 10px;
text-align: center;
}
img {
max-width: 300px;
max-height: 300px;
}
</style>

</head>
<body>
<h1>QRIS Cropper</h1>
<input type="file" id="imageUpload" accept="image/*">
<button id="cropButton" disabled>Crop QRIS</button>
<div class="container">
<div class="image-container">
<h2>Original Image</h2>
<img id="originalImage" src="#" alt="Uploaded Image" style="display: none;">
</div>
<div class="image-container">
<h2>Cropped QRIS</h2>
<canvas id="qrisCanvas" width="200" height="200" style="border: 1px solid #eee; display: none;"></canvas>
</div>
</div>
<script>
const imageUpload = document.getElementById('imageUpload');
const cropButton = document.getElementById('cropButton');
const originalImage = document.getElementById('originalImage');
const qrisCanvas = document.getElementById('qrisCanvas');
const ctx = qrisCanvas.getContext('2d');

    imageUpload.addEventListener('change', (event) => {
        const file = event.target.files && event.target.files.length > 0 ? event.target.files()[0] : null;
        if (file) {
            const reader = new FileReader();
            reader.onload = (e) => {
                originalImage.onload = () => {
                    cropButton.disabled = false;
                    originalImage.style.display = 'block';
                };
                originalImage.src = e.target.result;
            };
            reader.readAsDataURL(file);
        } else {
            originalImage.src = '#';
            originalImage.style.display = 'none';
            qrisCanvas.style.display = 'none';
            cropButton.disabled = true;
        }
    });

    cropButton.addEventListener('click', () => {
        // This is a simplified cropping logic. You might need more sophisticated
        // image processing to accurately detect and crop the QRIS code in all cases.
        // This example assumes the QRIS code is a prominent square in the center.

        const imageWidth = originalImage.width;
        const imageHeight = originalImage.height;
        const cropSize = Math.min(imageWidth, imageHeight) * 0.4; // Adjust as needed
        const cropX = (imageWidth - cropSize) / 2;
        const cropY = (imageHeight - cropSize) / 2;

        qrisCanvas.width = cropSize;
        qrisCanvas.height = cropSize;
        ctx.drawImage(originalImage, cropX, cropY, cropSize, cropSize, 0, 0, cropSize, cropSize);
        qrisCanvas.style.display = 'block';
    });
</script>
</body>
</html>
</code></pre>
